package booboo.thelocalnick.networkutils

import booboo.thelocalnick.BuildConfig
import okhttp3.*
import java.io.IOException


class HttpInterceptor:Interceptor {
    private val TEACHER_ID_1 = "{\n\t\"tours\": [\n\t\t{\n\t\t\t\"tourId\": \"1ksajdflkasjdfasdkfjlaslkdfj232\",\n\t\t\t\"tourTitle\": \"LA Art Museum Tour\",\n\t\t\t\"tourImage\": \"http://images.universitytickets.com//images/0000004453920007835858893.jpg\",\n\t\t\t\"guideName\": \"Nicholas\",\n\t\t\t\"guideImage\": \"http://www.biorefine.eu/sites/default/files/people.png\",\n\t\t\t\"price\": 80.45,\n\t\t\t\"description\": \"glittering lights and dinosaurs. The Los Angeles County Museum of Art (LACMA) is an art museum located on Wilshire Boulevard in the Miracle Mile vicinity of Los Angeles. LACMA is on Museum Row, adjacent to the La Brea Tar Pits (George C. Page Museum).LACMA is the largest art museum in the western United States. It attracts nearly a million visitors annually.[3] It holds more than 150,000 works spanning the history of art from ancient times to the present. In addition to art exhibits, the museum features film and concert series.\",\n\t\t\t\"rating\": 4.6,\n\t\t\t\"reviews\": 5,\n\t\t\t\"isFavorite\": false,\n\t\t\t\"durationHours\": 1,\n\t\t\t\"durationMins\": 30,\n\t\t\t\"nextAvailability\": \"2017-04-05T20:15-05:00\"\n\t\t},\n\t\t{\n\t\t\t\"tourId\": \"nf8qw4hf8n389h4f3894hff34f8394hf\",\n\t\t\t\"tourTitle\": \"WeHo Weird Shops and Stops Tour\",\n\t\t\t\"tourImage\": \"http://images1.laweekly.com/imager/u/original/6428330/velveteria_lohanesian.jpg\",\n\t\t\t\"guideName\": \"Fahd\",\n\t\t\t\"guideImage\": \"http://www.biorefine.eu/sites/default/files/people.png\",\n\t\t\t\"price\": 80.99,\n\t\t\t\"description\": \"weirdness personified\",\n\t\t\t\"rating\": 5,\n\t\t\t\"reviews\": 7,\n\t\t\t\"isFavorite\": true,\n\t\t\t\"durationHours\": 2,\n\t\t\t\"durationMins\": 12,\n\t\t\t\"nextAvailability\": \"2017-04-16T10:20+01:00\"\n\t\t},\n\t\t{\n\t\t\t\"tourId\": \"2i3j928je298j3e2983je23enj2ijei2je\",\n\t\t\t\"tourTitle\": \"Los Angeles Wall Crawl Adventure\",\n\t\t\t\"tourImage\": \"http://www.traveller.com.au/content/dam/images/2/f/v/7/j/image.related.articleLeadwide.620x349.2fntf.png/1362961734977.jpg\",\n\t\t\t\"guideName\": \"Johnathan\",\n\t\t\t\"guideImage\": \"http://www.biorefine.eu/sites/default/files/people.png\",\n\t\t\t\"price\": 60,\n\t\t\t\"description\": \"graffiti\",\n\t\t\t\"rating\": 4,\n\t\t\t\"reviews\": 3,\n\t\t\t\"isFavorite\": false,\n\t\t\t\"durationHours\": 3,\n\t\t\t\"durationMins\": 0,\n\t\t\t\"nextAvailability\": \"2017-04-18T10:20+01:00\"\n\t\t},\n\t\t{\n\t\t\t\"tourId\": \"832h8eh2839he89dn2n3928hnd3298283nd\",\n\t\t\t\"tourTitle\": \"Santa Monica Foodie Tour\",\n\t\t\t\"tourImage\": \"http://www.bubbagump.com/img/locations/BGSM_bigpic.jpg\",\n\t\t\t\"guideName\": \"Kimmy\",\n\t\t\t\"guideImage\": \"http://www.biorefine.eu/sites/default/files/people.png\",\n\t\t\t\"price\": 40,\n\t\t\t\"description\": \"Food Food Food....\",\n\t\t\t\"rating\": 3.4,\n\t\t\t\"reviews\": 7,\n\t\t\t\"isFavorite\": true,\n\t\t\t\"durationHours\": 3,\n\t\t\t\"durationMins\": 15,\n\t\t\t\"nextAvailability\": \"2017-04-13T17:20+01:00\"\n\t\t}\n\t]\n}"
    private val TEACHER_ID_2 = "{\n\t\"tours\": [\n\t\t{\n\t\t\t\"tourId\": \"1ksajdflkasjdfasdkfjlaslkdfj232\",\n\t\t\t\"tourTitle\": \"LA Art Museum Tour\",\n\t\t\t\"tourImage\": \"http://images.universitytickets.com//images/0000004453920007835858893.jpg\",\n\t\t\t\"guideName\": \"Nicholas\",\n\t\t\t\"guideImage\": \"http://www.biorefine.eu/sites/default/files/people.png\",\n\t\t\t\"price\": 80.45,\n\t\t\t\"description\": \"glittering lights and dinosaurs. The Los Angeles County Museum of Art (LACMA) is an art museum located on Wilshire Boulevard in the Miracle Mile vicinity of Los Angeles. LACMA is on Museum Row, adjacent to the La Brea Tar Pits (George C. Page Museum).LACMA is the largest art museum in the western United States. It attracts nearly a million visitors annually.[3] It holds more than 150,000 works spanning the history of art from ancient times to the present. In addition to art exhibits, the museum features film and concert series.\",\n\t\t\t\"rating\": 4.6,\n\t\t\t\"reviews\": 5,\n\t\t\t\"isFavorite\": false,\n\t\t\t\"durationHours\": 1,\n\t\t\t\"durationMins\": 30,\n\t\t\t\"nextAvailability\": \"2017-04-05T20:15-05:00\"\n\t\t},\n\t\t{\n\t\t\t\"tourId\": \"nf8qw4hf8n389h4f3894hff34f8394hf\",\n\t\t\t\"tourTitle\": \"WeHo Weird Shops and Stops Tour\",\n\t\t\t\"tourImage\": \"http://images1.laweekly.com/imager/u/original/6428330/velveteria_lohanesian.jpg\",\n\t\t\t\"guideName\": \"Fahd\",\n\t\t\t\"guideImage\": \"http://www.biorefine.eu/sites/default/files/people.png\",\n\t\t\t\"price\": 80.99,\n\t\t\t\"description\": \"weirdness personified\",\n\t\t\t\"rating\": 5,\n\t\t\t\"reviews\": 7,\n\t\t\t\"isFavorite\": true,\n\t\t\t\"durationHours\": 2,\n\t\t\t\"durationMins\": 12,\n\t\t\t\"nextAvailability\": \"2017-04-16T10:20+01:00\"\n\t\t},\n\t\t{\n\t\t\t\"tourId\": \"2i3j928je298j3e2983je23enj2ijei2je\",\n\t\t\t\"tourTitle\": \"Los Angeles Wall Crawl Adventure\",\n\t\t\t\"tourImage\": \"http://www.traveller.com.au/content/dam/images/2/f/v/7/j/image.related.articleLeadwide.620x349.2fntf.png/1362961734977.jpg\",\n\t\t\t\"guideName\": \"Johnathan\",\n\t\t\t\"guideImage\": \"http://www.biorefine.eu/sites/default/files/people.png\",\n\t\t\t\"price\": 60,\n\t\t\t\"description\": \"graffiti\",\n\t\t\t\"rating\": 4,\n\t\t\t\"reviews\": 3,\n\t\t\t\"isFavorite\": false,\n\t\t\t\"durationHours\": 3,\n\t\t\t\"durationMins\": 0,\n\t\t\t\"nextAvailability\": \"2017-04-18T10:20+01:00\"\n\t\t},\n\t\t{\n\t\t\t\"tourId\": \"832h8eh2839he89dn2n3928hnd3298283nd\",\n\t\t\t\"tourTitle\": \"Santa Monica Foodie Tour\",\n\t\t\t\"tourImage\": \"http://www.bubbagump.com/img/locations/BGSM_bigpic.jpg\",\n\t\t\t\"guideName\": \"Kimmy\",\n\t\t\t\"guideImage\": \"http://www.biorefine.eu/sites/default/files/people.png\",\n\t\t\t\"price\": 40,\n\t\t\t\"description\": \"Food Food Food....\",\n\t\t\t\"rating\": 3.4,\n\t\t\t\"reviews\": 7,\n\t\t\t\"isFavorite\": true,\n\t\t\t\"durationHours\": 3,\n\t\t\t\"durationMins\": 15,\n\t\t\t\"nextAvailability\": \"2017-04-13T17:20+01:00\"\n\t\t}\n\t]\n}"
    @Throws(IOException::class)
    override fun intercept(chain: Interceptor.Chain): Response {
        var response: Response? = null
        if (!BuildConfig.DEBUG) {
            val responseString: String
            // Get Request URI.
            val uri = chain.request().url()
            // Get Query String.
            val query = uri.query()
            // Parse the Query String.

            responseString = "{\n\t\"tours\": [\n\t\t{\n\t\t\t\"tourId\": \"1ksajdflkasjdfasdkfjlaslkdfj232\",\n\t\t\t\"tourTitle\": \"LA Art Museum Tour\",\n\t\t\t\"tourImage\": \"http://images.universitytickets.com//images/0000004453920007835858893.jpg\",\n\t\t\t\"guideName\": \"Nicholas\",\n\t\t\t\"guideImage\": \"http://www.biorefine.eu/sites/default/files/people.png\",\n\t\t\t\"price\": 80,\n\t\t\t\"description\": \"glittering lights and dinosaurs. The Los Angeles County Museum of Art (LACMA) is an art museum located on Wilshire Boulevard in the Miracle Mile vicinity of Los Angeles. LACMA is on Museum Row, adjacent to the La Brea Tar Pits (George C. Page Museum).LACMA is the largest art museum in the western United States. It attracts nearly a million visitors annually.[3] It holds more than 150,000 works spanning the history of art from ancient times to the present. In addition to art exhibits, the museum features film and concert series.\",\n\t\t\t\"rating\": 4.6,\n\t\t\t\"reviews\": 5,\n\t\t\t\"isFavorite\": false,\n\t\t\t\"durationHours\": 1,\n\t\t\t\"durationMins\": 30,\n\t\t\t\"nextAvailability\": \"2017-04-05T20:15-05:00\"\n\t\t},\n\t\t{\n\t\t\t\"tourId\": \"nf8qw4hf8n389h4f3894hff34f8394hf\",\n\t\t\t\"tourTitle\": \"WeHo Weird Shops and Stops Tour\",\n\t\t\t\"tourImage\": \"http://images1.laweekly.com/imager/u/original/6428330/velveteria_lohanesian.jpg\",\n\t\t\t\"guideName\": \"Fahd\",\n\t\t\t\"guideImage\": \"http://www.biorefine.eu/sites/default/files/people.png\",\n\t\t\t\"price\": 80,\n\t\t\t\"description\": \"weirdness personified\",\n\t\t\t\"rating\": 5,\n\t\t\t\"reviews\": 7,\n\t\t\t\"isFavorite\": true,\n\t\t\t\"durationHours\": 2,\n\t\t\t\"durationMins\": 12,\n\t\t\t\"nextAvailability\": \"2017-04-16T10:20+01:00\"\n\t\t},\n\t\t{\n\t\t\t\"tourId\": \"2i3j928je298j3e2983je23enj2ijei2je\",\n\t\t\t\"tourTitle\": \"Los Angeles Wall Crawl Adventure\",\n\t\t\t\"tourImage\": \"http://www.traveller.com.au/content/dam/images/2/f/v/7/j/image.related.articleLeadwide.620x349.2fntf.png/1362961734977.jpg\",\n\t\t\t\"guideName\": \"Johnathan\",\n\t\t\t\"guideImage\": \"http://www.biorefine.eu/sites/default/files/people.png\",\n\t\t\t\"price\": 60,\n\t\t\t\"description\": \"graffiti\",\n\t\t\t\"rating\": 4,\n\t\t\t\"reviews\": 3,\n\t\t\t\"isFavorite\": false,\n\t\t\t\"durationHours\": 3,\n\t\t\t\"durationMins\": 0,\n\t\t\t\"nextAvailability\": \"2017-04-18T10:20+01:00\"\n\t\t},\n\t\t{\n\t\t\t\"tourId\": \"832h8eh2839he89dn2n3928hnd3298283nd\",\n\t\t\t\"tourTitle\": \"Santa Monica Foodie Tour\",\n\t\t\t\"tourImage\": \"http://www.bubbagump.com/img/locations/BGSM_bigpic.jpg\",\n\t\t\t\"guideName\": \"Kimmy\",\n\t\t\t\"guideImage\": \"http://www.biorefine.eu/sites/default/files/people.png\",\n\t\t\t\"price\": 40,\n\t\t\t\"description\": \"Food Food Food....\",\n\t\t\t\"rating\": 3.4,\n\t\t\t\"reviews\": 7,\n\t\t\t\"isFavorite\": true,\n\t\t\t\"durationHours\": 3,\n\t\t\t\"durationMins\": 15,\n\t\t\t\"nextAvailability\": \"2017-04-13T17:20+01:00\"\n\t\t}\n\t]\n}"


            response = Response.Builder()
                .code(200)
                .message(responseString)
                .request(chain.request())
                .protocol(Protocol.HTTP_1_0)
                .body(ResponseBody.create(MediaType.parse("application/json"), responseString.toByteArray()))
                .addHeader("content-type", "application/json")
                .build()
        //here
        }
        else {
            response = chain.proceed(chain.request())
        }

        return response
    }
}